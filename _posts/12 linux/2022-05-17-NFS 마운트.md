---
title: NFS 마운트
author: JUNG YoungKyun
date: 2022-05-17
category: 12 linux
layout: post
---

![azure](https://img.shields.io/badge/nfs-2022.05.17-red.svg)

예전에 서버구성을 앱서버와 파일서버로 나누어 구성하였던 적이 있었습니다.

당시 앱서버에서 NFS로 마운트하여 파일들을 파일서버에 떨어지게 구성하였었습니다.

2년전 쯤에 했던 작업이었는데, 네이버 블로그 정리중 해당 내용이 있어 옮겨보고자 합니다.

# NFS

NFS는 Network File System 약자로, 네트워크 파일 시스템 이라고 합니다.

네이버 N 드라이브 쯤으로 생각하면 이해하기 편합니다.

# NFS 클라이언트에서 마운트 방법

사실 마운트 하는 방법은 매우 간단합니다.

```
mount -t nfs -o sync {nfs주소} {마운트경로}
```

# NFS 서버에서 공유하는 방법

사실 앱 서버에서 파일 서버를 NFS로 마운트를 하려면,

해당 파일서버를 NFS서버의 역할을 할 수 있도록 만들어 주어야 합니다.

저 같은 경운 NAS서버에서 클릭 몇번으로 설정이 가능하였기에, 비교적 어렵지 않게 NFS서버로 만들수 있었습니다.

그래서 직접 NFS서버를 만들어 본것은 아닙니다.

하지만 이번 문서 해당 내용을 간략하게나마 기록해보겠습니다.

## 공유 설정
`data_dir`은 예시 디렉토리명이며, 변경하셔도 됩니다.
```$xslt
# vi /etc/exports
/data_dir *(rw,sync,all_squash,anounid=0,anongid=0)
```

## 설정 갱신
```$xslt
# exportfs -a

-a : 갱신
-r : 재갱신
-a : 공유리스트 출력
```

## 공유할 디렉터리 생성
```$xslt
mkdir /data_dir
```

## NFS 재시작
```$xslt
# systemctl restart nfs
```

# 마무리

사실 위에서도 언급하였지만, 서버에서 공유하는건 직접 설정해본것은 아니며,
클라이언트에서의 마운트만 직접해본 것이고, 동작도 잘 되었었습니다.

지금은 프론트엔드 개발자로 전향하여 서버를 만지는 일은 크게 없긴한데,
혹시나 해당 내용이 언젠가 한번 쯤은 또 쓰이지 않을까 하여 작성하였습니다.