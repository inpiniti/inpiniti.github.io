---
title: next 13 시작
author: JUNG YoungKyun
date: 2023-05-13
category: 39 next
layout: post
---

next 13

라우팅하는게 직관적입니다.
문서는 조금씩 추가해 나갈 예정입니다.

1. next 설치

next 로 프로젝트를 하려면 일단 설치 부터 해야 합니다.

npx 를 쓰려면 아마 사전 작업이 필요하긴 할 건데, 이 문서에서는
넘어가도록 하겠습니다.

```
npx ...
```

2. page 및 라우트

`app/page.tsx` 는 `/` 에 해당하고
`app/test/page.tsx` `/test` 에 해당한다.

기본 코드는 아래와 같습니다.

```
export default function Home() {
  return (
    <>
      홈화면 입니다.
    </>
  )
}

```

위 코드는 브라우져에서 호출해보면
홈화면 입니다. 라는 텍스트를 출력해줍니다.

html 코드나 

3. rest api

`app/api/route.tsx` 는 `/api` 에 해당하고
`app/api/test/route.tsx` 는 `/api/test` 에 해당하고

기본 코드는 아래와 같습니다.

```
import { NextResponse } from 'next/server'

export async function GET() {
    return NextResponse.json({ name: 'John Doe' });
}
```

위 코드는
브라우져에서 호출해보면 `{"name":"John Doe"}` 이런걸 찍어줍니다.

4. dbms

prisma 라는 라이브러리를 주로 쓰는거 같습니다.

공식 문서 [Get started](https://www.prisma.io/docs/getting-started) 따라 해보면 될 텐데,

- 설치

    ```
    npm install prisma --save-dev
    ```

- 모델 설정

`prisma/schema.prisma`

    ```
    model User {
      id    Int     @id @default(autoincrement())
      email String  @unique
      name  String?
      posts Post[]
    }
    ```

- 커넥션

```
import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()

async function main() {
  // ... you will write your Prisma Client queries here
}

main()
  .then(async () => {
    await prisma.$disconnect()
  })
  .catch(async (e) => {
    console.error(e)
    await prisma.$disconnect()
    process.exit(1)
  })
```

