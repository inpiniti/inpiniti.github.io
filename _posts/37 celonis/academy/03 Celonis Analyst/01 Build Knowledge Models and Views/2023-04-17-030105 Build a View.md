---
title: 030105 Build a View
author: JUNG YoungKyun
date: 2023-04-17
category: 37 celonis
layout: post
---

위 벳지는 수강을 완료하고 받은 뱃지입니다.

# Build Knowledge Models and Views

![](https://d3i9g4671ronu3.cloudfront.net/thoughtindustries-eu/image/upload/q_100,a_exif,c_crop,x_0,y_0,w_800,h_385/a_exif,c_fill,w_750,h_361/v1/course-uploads/1cc62825-20df-4077-8216-a9df1132a5ad/63plq1vjehen-course_Build-Views-and-Knowledge-Models_catalogue.jpg)

# Build a View

![](https://d3i9g4671ronu3.cloudfront.net/thoughtindustries-eu/image/upload/a_exif,c_fill,w_600/v1/course-uploads/1cc62825-20df-4077-8216-a9df1132a5ad/aarpd4is1m25-skill-area_BuildCreateDesign_catalogue.jpg)

# 1 새 보기 만들기
## 11 뷰 정의 복습 [2:30]

최종 사용자 또는 비즈니스 사용자가 작업하고 상호 작용하는 앱의 시각적 표현

KPI 목록, 작업 테이블, 실행 간격 목록 등과 같은 다양한 구성 요소  로 구성

뷰를 생성하기 전에 지식 모델이 필요합니다.

![](https://scorm.eu.thoughtindustries.com/content/1cc62825-20df-4077-8216-a9df1132a5ad/b4dda8a6-db94-4a01-98f9-e42c38f493a3/11/scormcontent/assets/x8YvOHNrMLyMkrnj_rE7HCb6FaEuqC1VC.png)

## 12 새 보기 만들기 [6:30]

Celonis Studio에서 새로운 뷰를 생성하려면 (기술적으로) 무엇이 필요합니까?

- a Space
- a Package
- a Knowledge Model

아래와 같이 만드세요.

- Space : Training
- Package : Training
- Knowledge Mode
```
kind: BASE
metadata:
  key: my-training-knowledge-model
  displayName: My training Knowledge Model
dataModelId: ${{ap-celonis-studio-app-creator-training}}
records:
  - id: INVOICE
    displayName: Invoice
    description: Invoice Identifier
    identifier:
      id: INVOICE_IDENTIFIER
      displayName: Invoice Identifier
      description: Uniquely identifies a specific invoice
      pql: BKPF.MANDT || BKPF.BUKRS || BKPF.GJAHR || BKPF.BELNR
      filterIds: []
    attributes:
      - id: INVOICE_ID
        displayName: Invoice ID
        description: The Invoice ID as determined by the vendor
        pql: BKPF.BELNR
        columnType: STRING
      - id: VENDOR
        displayName: Vendor
        description: The name of the vendor
        pql: LFA1.NAME1
      - id: due_date
        displayName: Due Date
        description: Date when invoice is due
        pql: PU_LAST("BKPF","_CEL_AP_ACTIVITIES"."EVENTTIME","_CEL_AP_ACTIVITIES"."ACTIVITY_EN"
          = 'Due Date passed')
        columnType: DATE
        format: "%Y-%m-%d"
kpis:
  - id: dadays_payable_outstanding
    displayName: Days Payable Outstanding
    description: Financial ratio indicating avg. time (in days) to pay bills and invoices
    pql: |-
      AVG(DAYS_BETWEEN(PU_FIRST("BSEG", "_CEL_AP_ACTIVITIES"."EVENTTIME",

            "_CEL_AP_ACTIVITIES"."ACTIVITY_EN" = 'Record Invoice Receipt')

            ,PU_FIRST("BSEG", "_CEL_AP_ACTIVITIES"."EVENTTIME",

                "_CEL_AP_ACTIVITIES"."ACTIVITY_EN" = 'Clear Invoice'))) 
    unit: Days
    format: ",.0f"
    desiredDirection: DECREASE
```

아래와 같이 Records, KPIs 하나씩 만들어져 있는 Knowledge Model 이 만들어집니다.

![](../images/37 celonis/230419/20230419153654.png)

위에서 Knowledge Model 모델까지 만들었으니, 뷰를 만들어 봅시다.

아래와 같이 설정하고 생성버튼 클릭하면 

- Name: My training View

- Knowledge Model: My training Knowledge Model 

- Simple Template : 2:2

![](../images/37 celonis/230419/20230419154301.png)

아래와 같이 생성이 된것을 볼 수 있습니다.

![](../images/37 celonis/230419/20230419154314.png)

## 13 새로 생성된 보기 검토 [2:30]

- 뷰가 연결된 지식 모델을 식별할 수 있는 필드는 무엇입니까?
    - knowledgeModelKey

# 2 시각적 편집기를 사용하여 KPI 목록 추가
## 21 KPI 목록 구성 요소란 무엇입니까? [2:30]

Visual Editor 와 Code Editor 에서 구성 요소를 추가 가능하며,

구성 요소는? KPI 목록을 의미합니다.

## 22 KPI 목록 추가 및 DPO KPI 할당[7:00]

비디오 따라하면 아래처럼 뷰에 KPI하나 추가 됩니다. 

- KPI List component 를 추가합니다 .
- KPI 목록에 DPO KPI를 추가합니다 .
- component 와 View를 모두 저장합니다 .

![](../images/37 celonis/230419/20230419155107.png)

## 23 KPI 목록에 KPI 추가 [15:00]

원하는 KPI 가 없으면, New KPI 눌러서

![](../images/37 celonis/230419/20230419155512.png)

아래와 같이 추가 해봅시다.

![](../images/37 celonis/230419/20230419155446.png)

```
Name : Lost Cash Discount
Format : $.3s
PQL : ( SUM(CASE WHEN MONTH("BKPF"."CPUDT") = 4 THEN "BSEG"."SKFBT_CONVERTED" *
            "BSEG"."ZBD1P"*1.1 * 0.01 ELSE "BSEG"."SKFBT_CONVERTED" *
            "BSEG"."ZBD1P"*0.01 END) - SUM(CASE WHEN "BSEG"."ZBD1P" > 0 AND
            "BSEG"."SKFBT_CONVERTED" > 0 THEN "BSEG"."SKNTO_CONVERTED" ELSE NULL END)
            ) * 2
KPI Desired Direction : Down Trend
```

무접촉 인보이스도 만들어 봅시다.

```
Name: Touchless Invoices
Description: Implies how many invoices are processed without human interaction
PQL:  (SUM( CASE WHEN PU_COUNT_DISTINCT("BSEG", "_CEL_AP_ACTIVITIES"."_CASE_KEY",
      "_CEL_AP_ACTIVITIES"."ACTIVITY_EN" IN ('Change Address', 'Change Baseline Date','Change Company
      Code','Change Currency','Change Delivery Indicator','Change Document
      Date','Change Document Type','Change Final Invoice
      Indicator','Change Gross Amount','Change Header Text','Change Net
      Amount','Change Net Payment days','Change PO No.','Change Partner
      Bank Type','Change Payment Days 1','Change Payment Method','Change
      Payment Term','Change Price','Change Purchasing Document','Change
      Quantity','Change SCB Indicator','Change Storage Location','Change
      Text','Missing Company Code','Missing Ref Doc. No.','Missing VAT
      No.')) > 0 THEN 0.0
      ELSE CASE WHEN MONTH("BKPF"."CPUDT") = 4 THEN 0.70  WHEN
      MONTH("BKPF"."CPUDT") = 3 THEN 0.85  ELSE 1.0 END END)/COUNT_TABLE("BSEG")
      )* 0.2
Format: Percentage
```

아래는 선택사항인데,

"변수를 사용해서 재작업 활동을 한곳에서 정의할 수 있다"라고 못알아 들을 말을 적어 두었는데,

아래의 참조 문서를 보고 이해하기로는

```
In the Knowledge Model:

Step 1: Defining a variable

variables:
  - id: REWORK_ACTIVITIES
    displayName: Rework Activities
    description: Process steps being considered as rework
    value: "'Change Address','Change Baseline Date','Change Company Code','Change
      Currency', 'Change Delivery Indicator','Change Document Date','Change
      Document Type','Change Final Invoice Indicator','Change Gross
      Amount','Change Header Text','Change Net Amount','Change Net Payment
      days','Change PO No.','Change Partner Bank Type','Change Payment Days
      1','Change Payment Method','Change Payment Term','Change Price','Change
      Purchasing Document','Change Quantity','Change SCB Indicator','Change
      Storage Location','Change Text','Missing Company Code','Missing Ref Doc.
      No.','Missing VAT No.'"
    type: VARIABLE

Step 2: Referencing the variable in the KPI definition using ${variable ID}
kpis:
  - id: TOUCHLESS_INVOICES
    displayName: Touchless Invoice Rate
    customAttributes:
      active: false
    pql: (SUM( CASE WHEN PU_COUNT_DISTINCT("BSEG", "_CEL_AP_ACTIVITIES"."_CASE_KEY",
      "_CEL_AP_ACTIVITIES"."ACTIVITY_EN" IN (${REWORK_ACTIVITIES})) > 0 THEN 0.0
      ELSE CASE WHEN MONTH("BKPF"."CPUDT") = 4 THEN 0.70  WHEN
      MONTH("BKPF"."CPUDT") = 3 THEN 0.85  ELSE 1.0 END END)/COUNT_TABLE("BSEG")
      )* 0.2
    format: .0%
    desiredDirection: INCREASE
    type: KPI
    benchmarkable: false
```

Knowledge Model 모델에

변수 REWORK_ACTIVITIES 와

KPI TOUCHLESS_INVOICES 를 미리 만들어 두고

'VIEW 에서는 갖다 쓸수 있다???' 뭐 그런 내용이지 싶습니다.

# 3 코드 편집기를 사용하여 테이블 추가
## 31 테이블을 추가하는 방법? [2:30]

지식 모델에서

![](https://scorm.eu.thoughtindustries.com/content/1cc62825-20df-4077-8216-a9df1132a5ad/b4dda8a6-db94-4a01-98f9-e42c38f493a3/11/scormcontent/assets/7jJ0gwuVYoo3nn1A_qXBK4r1avqPUMBsB.png)

위 3개의 레코드 어트리 뷰트 만들었엇는데요.

이걸 가지고 아래의 테이블을 만들수 있다고 합니다.

![](https://scorm.eu.thoughtindustries.com/content/1cc62825-20df-4077-8216-a9df1132a5ad/b4dda8a6-db94-4a01-98f9-e42c38f493a3/11/scormcontent/assets/52uyVKCyvNu-pdnk_uwIPMMf4XNL4-8PZ.png)

## 32 테이블 추가 및 레코드 속성 할당 [11:00]

코드 편집기를 열어서 컴포넌트 테이블을 열어 `Add Snippet` 버튼을 클릭하고 

![](../images/37 celonis/230419/20230419161400.png)

아래와 같이 작성해주도록 하자

```
  - id: my_table
    type: table
    settings:
      data:
        columns:
          - field: INVOICE.INVOICE_ID
            id: ""
          - field: INVOICE.VENDOR
            id: ""
          - field: INVOICE.due_date
```

자 그러면 아무것도 뜨지 않는데, 당황하지 말고, 다시 편집기를 열어서
layout 에 추가했던 my_table 을 연결해주도록하자

![](../images/37 celonis/230419/20230419161400.png)

편지기에서 말고 비주얼 모드에서 Choose component 를 눌러서 추가하면
더욱더 쉽다.

![](../images/37 celonis/230419/20230419162207.png)

# 4 도전
## 41 시각적 편집기를 사용하여 드롭다운 목록 추가[4:30]

표에서 공급업체를 필터링을 하고 싶을수 있다.

스크롤 해서 찾는 방법도 있겠지만, View 에 드롭다운 목록을 추가하면 더욱더 좋을 것이다.

![](../images/37 celonis/230419/20230419162814.png)

![](../images/37 celonis/230419/20230419162830.png)

위 그림대로 드롭다운 추가하면 아래와 같이 완성된 view 모습을 볼수 있다.

![](../images/37 celonis/230419/20230419162904.png)

## 42 원하는 구성 요소 추가 [7:00]

# 5 팁과 요령
## 51 보기의 사용자 경험 최적화[2:00]

디자인적인 사고를 하기 위해서는 아래의 유용한 리소스가 있으니 참고해봐도 좋을 것 같다.

[IBM의 엔터프라이즈 디자인 사고 아카데미](https://www.ibm.com/design/thinking/)

[IDEOU의 디자인 사고 수료증 기초](https://www.ideou.com/products/design-thinking-certificate?utm_medium=bing&utm_source=paid-bing&utm_campaign=TOF%20-%20Design%20Thinking%20(PSDW)&hsa_acc=2344323373&hsa_cam=12254546110&hsa_grp=1298523526734531&hsa_ad=&hsa_src=s&hsa_tgt=kwd-81157877603669:loc-72&hsa_kw=%2BDesign%20%2BThinking&hsa_mt=p&hsa_net=adwords&hsa_ver=3&msclkid=d0684b1fd542190850352a9783776b95&utm_source=bing&utm_medium=cpc&utm_campaign=TOF%20-%20Design%20Thinking%20(PSDW)&utm_term=%2BDesign%20%2BThinking&utm_content=Design%20Thinking)

[openHPI의 Design Thinking 4.0 - 디지털 혁신의 문화적 차원](https://open.hpi.de/courses/designthinking2020)

## 52 복잡한 YAML 구성 탐색[2:00]
## 53 축하해요! [1:00]
